{% load static %}
{% load crispy_forms_tags %}
<div class="mt-3">
    <!-- This will be an API heavy portion -->
    <h2>Edit Blog Post</h2>
    <hr />
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form | crispy }}
        <button type="submit" class="btn btn-success float-right">Update Post</button>
        {% comment %}
            TODO PREVIEW 

            BUG: Since there is no way to qualify the site this belongs to right now -- chidori fetched site is empty --- so we can't link from here
        {% endcomment %}
        <!--a href="blog/view/{{ form.post_slug.value }}" class="btn btn-success mr-1 float-right" target="_blank">View</a-->
        <a href="{% url 'blog-delete' slug=form.post_slug.value site=form.post_site.value %}" class="btn btn-warning mr-1 float-right confirm-delete">Delete</a>
        {% comment %}
            BACK BUTTON

            BUG: Instances where back is the same page -- or a different page this will break
            TODO: Add a context value for the server domain and use thats
        {% endcomment %}
        <button class="btn btn-secondary mr-1 float-right" onclick="history.back()">Cancel</button>
    </form>
</div>